{"ast":null,"code":"import { DishesService } from '../services/dishes.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/dishes.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../modals/dish-modal/dish-modal.component\";\nimport * as i4 from \"../modals/delete-modal/delete-modal.component\";\n\nfunction DishesComponent_app_dish_modal_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-dish-modal\", 6);\n    i0.ɵɵlistener(\"dishCreated\", function DishesComponent_app_dish_modal_2_Template_app_dish_modal_dishCreated_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.addDish($event);\n    })(\"closeModalPopup\", function DishesComponent_app_dish_modal_2_Template_app_dish_modal_closeModalPopup_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.closeModal($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r0.message)(\"editMode\", ctx_r0.editMode)(\"editDish\", ctx_r0.editDish);\n  }\n}\n\nfunction DishesComponent_app_delete_modal_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-delete-modal\", 7);\n    i0.ɵɵlistener(\"closeDeleteModalPopup\", function DishesComponent_app_delete_modal_3_Template_app_delete_modal_closeDeleteModalPopup_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.closeDeleteModal($event);\n    })(\"itemDeleted\", function DishesComponent_app_delete_modal_3_Template_app_delete_modal_itemDeleted_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.deleteDish($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"item\", ctx_r1.deletedDishId);\n  }\n}\n\nfunction DishesComponent_tbody_19_ul_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\")(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const tag_r11 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(tag_r11);\n  }\n}\n\nfunction DishesComponent_tbody_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 8);\n    i0.ɵɵelement(3, \"img\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\", 10);\n    i0.ɵɵtemplate(11, DishesComponent_tbody_19_ul_11_Template, 3, 1, \"ul\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\", 11)(13, \"a\")(14, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function DishesComponent_tbody_19_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const dish_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.openModal(\"edit\", dish_r9);\n    });\n    i0.ɵɵtext(15, \" Edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(16, \" | \");\n    i0.ɵɵelementStart(17, \"a\")(18, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function DishesComponent_tbody_19_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const dish_r9 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.openDeleteModal(dish_r9._id);\n    });\n    i0.ɵɵtext(19, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const dish_r9 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", dish_r9.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dish_r9.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", dish_r9.price, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", dish_r9.ingredients, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", dish_r9.tags);\n  }\n}\n\nexport let DishesComponent = /*#__PURE__*/(() => {\n  class DishesComponent {\n    constructor(dishesService) {\n      this.dishesService = dishesService;\n      this.dishes = [];\n      this.showDeleteModal = false;\n      this.editMode = \"add\";\n      this.showModal = false;\n    }\n\n    ngOnInit() {\n      this.dishesService.getAlldishes().subscribe(dishes => {\n        this.dishes = dishes;\n        console.log(this.dishes);\n      });\n    }\n\n    openModal(status, dish) {\n      this.editMode = status;\n      this.message = status === \"edit\" ? \"Edit Chef\" : \"Add Chef\";\n      this.editDish = dish === undefined ? {\n        _id: '',\n        name: '',\n        image: '',\n        price: 0,\n        ingredients: \"\",\n        tags: []\n      } : dish;\n      this.showModal = !this.showModal;\n    }\n\n    closeModal(status) {\n      this.showModal = status;\n    }\n\n    openDeleteModal(id) {\n      this.deletedDishId = id;\n      this.showDeleteModal = !this.showDeleteModal;\n    }\n\n    closeDeleteModal(status) {\n      this.showDeleteModal = status;\n    }\n\n    deleteDish(dish) {\n      this.dishesService.deleteDish(dish).subscribe(dish => {\n        console.log(dish);\n        this.showDeleteModal = false;\n      });\n      this.dishesService.getAlldishes().subscribe(dishes => {\n        this.dishes = dishes;\n      });\n    }\n\n    addDish(dish) {\n      dish._id === \"\" ? this.dishesService.addDish(dish).subscribe(dish => {\n        console.log(dish);\n      }) : this.dishesService.updateDish(dish._id, dish).subscribe(dish => {\n        console.log(dish);\n      });\n      this.dishesService.getAlldishes().subscribe(dishes => {\n        this.dishes = dishes;\n      });\n      this.showModal = false;\n    }\n\n  }\n\n  DishesComponent.ɵfac = function DishesComponent_Factory(t) {\n    return new (t || DishesComponent)(i0.ɵɵdirectiveInject(i1.DishesService));\n  };\n\n  DishesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DishesComponent,\n    selectors: [[\"app-dishes\"]],\n    features: [i0.ɵɵProvidersFeature([DishesService])],\n    decls: 20,\n    vars: 3,\n    consts: [[\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [3, \"message\", \"editMode\", \"editDish\", \"dishCreated\", \"closeModalPopup\", 4, \"ngIf\"], [3, \"item\", \"closeDeleteModalPopup\", \"itemDeleted\", 4, \"ngIf\"], [1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"message\", \"editMode\", \"editDish\", \"dishCreated\", \"closeModalPopup\"], [3, \"item\", \"closeDeleteModalPopup\", \"itemDeleted\"], [\"scope\", \"row\"], [\"width\", \"100px\", \"height\", \"100px\", 1, \"img-thumbnail\", 3, \"src\"], [1, \"tags\"], [1, \"action-link\"], [3, \"click\"]],\n    template: function DishesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function DishesComponent_Template_button_click_0_listener() {\n          return ctx.openModal(\"add\");\n        });\n        i0.ɵɵtext(1, \" + Add Dish\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, DishesComponent_app_dish_modal_2_Template, 1, 3, \"app-dish-modal\", 1);\n        i0.ɵɵtemplate(3, DishesComponent_app_delete_modal_3_Template, 1, 1, \"app-delete-modal\", 2);\n        i0.ɵɵelementStart(4, \"table\", 3)(5, \"thead\")(6, \"tr\")(7, \"th\", 4);\n        i0.ɵɵtext(8, \"Image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"th\", 4);\n        i0.ɵɵtext(10, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\", 4);\n        i0.ɵɵtext(12, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\", 4);\n        i0.ɵɵtext(14, \"Ingredients\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\", 4);\n        i0.ɵɵtext(16, \"Tags\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\", 4);\n        i0.ɵɵtext(18, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(19, DishesComponent_tbody_19_Template, 20, 5, \"tbody\", 5);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteModal);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.dishes);\n      }\n    },\n    directives: [i2.NgIf, i3.DishModalComponent, i4.DeleteModalComponent, i2.NgForOf],\n    styles: [\".tags[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto}img[_ngcontent-%COMP%]{width:76px;height:66px;border-radius:50%}\"]\n  });\n  return DishesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}