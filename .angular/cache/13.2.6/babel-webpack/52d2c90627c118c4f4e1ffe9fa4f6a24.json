{"ast":null,"code":"import { ChefsService } from \"../services/chefs.service\";\nimport { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/chefs.service\";\nimport * as i2 from \"../services/chefOfTheWeek.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../modals/chef-modal/chef-modal.component\";\nimport * as i5 from \"../modals/delete-modal/delete-modal.component\";\nimport * as i6 from \"@angular/forms\";\n\nfunction ChefsComponent_app_chef_modal_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-chef-modal\", 16);\n    i0.ɵɵlistener(\"chefCreated\", function ChefsComponent_app_chef_modal_2_Template_app_chef_modal_chefCreated_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.addChef($event);\n    })(\"closeModalPopup\", function ChefsComponent_app_chef_modal_2_Template_app_chef_modal_closeModalPopup_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.closeModal($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r0.message)(\"editMode\", ctx_r0.editMode)(\"editChef\", ctx_r0.editChef);\n  }\n}\n\nfunction ChefsComponent_app_delete_modal_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-delete-modal\", 17);\n    i0.ɵɵlistener(\"closeDeleteModalPopup\", function ChefsComponent_app_delete_modal_3_Template_app_delete_modal_closeDeleteModalPopup_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.closeDeleteModal($event);\n    })(\"itemDeleted\", function ChefsComponent_app_delete_modal_3_Template_app_delete_modal_itemDeleted_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.deleteChef($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"item\", ctx_r1.deletedChefId);\n  }\n}\n\nfunction ChefsComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", c_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(c_r10.name);\n  }\n}\n\nconst _c0 = function () {\n  return {\n    \"width\": \"370px\"\n  };\n};\n\nfunction ChefsComponent_tbody_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"th\", 19);\n    i0.ɵɵelement(3, \"img\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 21);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 22)(9, \"a\")(10, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ChefsComponent_tbody_29_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const chef_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.openModal(\"edit\", chef_r11);\n    });\n    i0.ɵɵtext(11, \" Edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(12, \" | \");\n    i0.ɵɵelementStart(13, \"a\")(14, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function ChefsComponent_tbody_29_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const chef_r11 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.openDeleteModal(chef_r11._id);\n    });\n    i0.ɵɵtext(15, \"Delete\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const chef_r11 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", chef_r11.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(chef_r11.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", chef_r11.description, \" \");\n  }\n}\n\nexport let ChefsComponent = /*#__PURE__*/(() => {\n  class ChefsComponent {\n    constructor(chefsService, chefOfTheWeekService) {\n      this.chefsService = chefsService;\n      this.chefOfTheWeekService = chefOfTheWeekService;\n      this.chefs = [];\n      this.showDeleteModal = false;\n      this.editMode = \"add\";\n      this.showModal = false;\n    }\n\n    ngOnInit() {\n      this.chefsService.getAllChefs().subscribe(chefs => {\n        this.chefs = chefs;\n        console.log(this.chefs);\n      });\n      this.chefOfTheWeekService.getChefOfTheWeek().subscribe(chef => {\n        this.chefOfTheWeek = chef;\n      });\n      this.chefOfTheWeekForm = new FormGroup({\n        ChefId: new FormControl(this.chefOfTheWeek ? this.chefOfTheWeek : '')\n      });\n    }\n\n    openModal(status, chef) {\n      this.editMode = status;\n      this.message = status === \"edit\" ? \"Edit Chef\" : \"Add Chef\";\n      this.editChef = chef === undefined ? {\n        _id: \"\",\n        name: \"\",\n        image: \"\",\n        description: \"\"\n      } : chef;\n      this.showModal = !this.showModal;\n    }\n\n    closeModal(status) {\n      this.showModal = status;\n    }\n\n    openDeleteModal(id) {\n      this.deletedChefId = id;\n      this.showDeleteModal = !this.showDeleteModal;\n    }\n\n    closeDeleteModal(status) {\n      this.showDeleteModal = status;\n    }\n\n    addChef(chef) {\n      chef._id === \"\" ? this.chefsService.addChef(chef).subscribe(chef => {\n        console.log(chef);\n      }) : this.chefsService.updateChef(chef._id, chef).subscribe(chef => {\n        console.log(chef);\n      });\n      this.chefsService.getAllChefs().subscribe(chefs => {\n        this.chefs = chefs;\n      });\n      this.showModal = false;\n    }\n\n    deleteChef(chef) {\n      console.log(chef);\n      this.chefsService.deleteChef(chef).subscribe(chef => {\n        console.log(chef);\n        this.showDeleteModal = false;\n      });\n      this.chefsService.getAllChefs().subscribe(chefs => {\n        this.chefs = chefs;\n      });\n    }\n\n    updateChefOfTheWeek() {\n      this.chefOfTheWeekService.updateChef(this.chefOfTheWeek._id, this.chefOfTheWeekForm.value).subscribe(chef => {\n        this.chefOfTheWeekService.getChefOfTheWeek().subscribe(chef => {\n          this.chefOfTheWeek = chef;\n        });\n      });\n    }\n\n  }\n\n  ChefsComponent.ɵfac = function ChefsComponent_Factory(t) {\n    return new (t || ChefsComponent)(i0.ɵɵdirectiveInject(i1.ChefsService), i0.ɵɵdirectiveInject(i2.ChefOfTheWeekService));\n  };\n\n  ChefsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ChefsComponent,\n    selectors: [[\"app-chefs\"]],\n    features: [i0.ɵɵProvidersFeature([ChefsService])],\n    decls: 30,\n    vars: 8,\n    consts: [[\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [3, \"message\", \"editMode\", \"editChef\", \"chefCreated\", \"closeModalPopup\", 4, \"ngIf\"], [3, \"item\", \"closeDeleteModalPopup\", \"itemDeleted\", 4, \"ngIf\"], [1, \"card\"], [\"alt\", \"Card image cap\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [\"for\", \"chef\"], [3, \"formGroup\"], [\"formControlName\", \"ChefId\", 1, \"form-control\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\", 3, \"click\"], [1, \"table\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"message\", \"editMode\", \"editChef\", \"chefCreated\", \"closeModalPopup\"], [3, \"item\", \"closeDeleteModalPopup\", \"itemDeleted\"], [3, \"ngValue\"], [\"scope\", \"row\"], [\"width\", \"100px\", \"height\", \"100px\", 1, \"img-thumbnail\", 3, \"src\"], [3, \"ngStyle\"], [1, \"action-link\"], [3, \"click\"]],\n    template: function ChefsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ChefsComponent_Template_button_click_0_listener() {\n          return ctx.openModal(\"add\");\n        });\n        i0.ɵɵtext(1, \" + Add Chef\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, ChefsComponent_app_chef_modal_2_Template, 1, 3, \"app-chef-modal\", 1);\n        i0.ɵɵtemplate(3, ChefsComponent_app_delete_modal_3_Template, 1, 1, \"app-delete-modal\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"img\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"h2\", 6);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p\", 7);\n        i0.ɵɵtext(10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"label\", 8);\n        i0.ɵɵtext(12, \"Update Chef Of The Week : \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"form\", 9)(14, \"select\", 10);\n        i0.ɵɵtemplate(15, ChefsComponent_option_15_Template, 2, 2, \"option\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function ChefsComponent_Template_button_click_16_listener() {\n          return ctx.updateChefOfTheWeek();\n        });\n        i0.ɵɵtext(17, \"Update\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(18, \"table\", 13)(19, \"thead\")(20, \"tr\")(21, \"th\", 14);\n        i0.ɵɵtext(22, \"Image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\", 14);\n        i0.ɵɵtext(24, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"th\", 14);\n        i0.ɵɵtext(26, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\", 14);\n        i0.ɵɵtext(28, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(29, ChefsComponent_tbody_29_Template, 16, 5, \"tbody\", 15);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showModal);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteModal);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"src\", ctx.chefOfTheWeek == null ? null : ctx.chefOfTheWeek.ChefId == null ? null : ctx.chefOfTheWeek.ChefId.image, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.chefOfTheWeek == null ? null : ctx.chefOfTheWeek.ChefId == null ? null : ctx.chefOfTheWeek.ChefId.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.chefOfTheWeek == null ? null : ctx.chefOfTheWeek.ChefId == null ? null : ctx.chefOfTheWeek.ChefId.description);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.chefOfTheWeekForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.chefs);\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngForOf\", ctx.chefs);\n      }\n    },\n    directives: [i3.NgIf, i4.ChefModalComponent, i5.DeleteModalComponent, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i6.FormGroupDirective, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.FormControlName, i3.NgForOf, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i3.NgStyle],\n    styles: [\"img[_ngcontent-%COMP%]{width:76px;height:66px;border-radius:50%}.card[_ngcontent-%COMP%]{width:50vw;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;margin:auto auto 45px;border:3px solid #31b0d5;padding:20px}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.form-control[_ngcontent-%COMP%]{width:194px}\"]\n  });\n  return ChefsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}